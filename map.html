<center class="container mt-5 mb-5">
    <h1>Node Location</h1>
    <div class="map" id="map"></div>
</center>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB_p2-9jTc9Q8IooGNEq-4egCApkLGtXRI&callback=initMap" type="text/javascript"></script>
<script>
  var map;
  var InfoObj = [];
  var centerCords ={
      lat: -2.723657, 
      lng: 111.169605
  };

  var icons = {
      info: {
          icon: 'asset/image/icons8-rfid-sensor-30.png'
      }
  }

  var markersOnMap = [
      {
          placeName : "Node-101",
          LatLng: [{
              lat: -2.723657,
              lng: 111.169605
          }],
          type: 'info',
      },
  ]

  function addMarkerInfo(){
      for(var i = 0; i < markersOnMap.length; i++){
          var contentString = '<h3 id="node">' + markersOnMap[i].placeName + '</h3>';
          
          const marker = new google.maps.Marker({
              position: markersOnMap[i].LatLng[0],
              icon: icons[markersOnMap[i].type].icon,
              map: map
          });

          const infowindow = new google.maps.InfoWindow({
              content: contentString,
          });

          marker.addListener("click", function() {
              infowindow.open(map, marker);
          });
      }
  }

  function initMap(){
      map = new google.maps.Map(document.getElementById('map'),{
          zoom: 15,
          center: centerCords
      });
      addMarkerInfo()
  }

  window.onload = function(){
      initMap();
  };
</script>